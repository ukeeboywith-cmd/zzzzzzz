<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Meriem üåπ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Glassmorphism Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        /* Floating Hearts Background Animation */
        .circles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        .circles li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.4);
            animation: animate 25s linear infinite;
            bottom: -150px;
            border-radius: 50%;
        }
        /* Heart shape using clip-path for background particles */
        .circles li:nth-child(even) {
            clip-path: path('M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z');
            background: rgba(255, 255, 255, 0.6);
            border-radius: 0;
            transform: scale(1.5);
        }

        .circles li:nth-child(1) { left: 25%; width: 80px; height: 80px; animation-delay: 0s; }
        .circles li:nth-child(2) { left: 10%; width: 40px; height: 40px; animation-delay: 2s; animation-duration: 12s; }
        .circles li:nth-child(3) { left: 70%; width: 20px; height: 20px; animation-delay: 4s; }
        .circles li:nth-child(4) { left: 40%; width: 60px; height: 60px; animation-delay: 0s; animation-duration: 18s; }
        .circles li:nth-child(5) { left: 65%; width: 20px; height: 20px; animation-delay: 0s; }
        .circles li:nth-child(6) { left: 75%; width: 110px; height: 110px; animation-delay: 3s; }
        .circles li:nth-child(7) { left: 35%; width: 150px; height: 150px; animation-delay: 7s; }
        .circles li:nth-child(8) { left: 50%; width: 25px; height: 25px; animation-delay: 15s; animation-duration: 45s; }
        .circles li:nth-child(9) { left: 20%; width: 15px; height: 15px; animation-delay: 2s; animation-duration: 35s; }
        .circles li:nth-child(10) { left: 85%; width: 150px; height: 150px; animation-delay: 0s; animation-duration: 11s; }

        @keyframes animate {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; border-radius: 0; }
            100% { transform: translateY(-1000px) rotate(720deg); opacity: 0; border-radius: 50%; }
        }

        /* Smooth Transitions */
        #yesBtn { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        /* Add transition for No button movement */
        #noBtn { transition: all 0.3s ease-out; } 
        
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .image-shadow {
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));
        }
    </style>
</head>
<body>

    <!-- Animated Background -->
    <ul class="circles">
        <li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
    </ul>

    <!-- Main Card -->
    <div class="glass-card rounded-3xl p-8 md:p-12 w-full max-w-lg mx-4 text-center relative z-10 fade-in">
        
        <!-- PAGE 1: QUESTION -->
        <div id="questionSection">
            <!-- Professional High Quality Gif -->
            <div class="mb-8 flex justify-center">
                <!-- Main Image: Raw Giphy Link (Most Stable) -->
                <img id="mainImage" 
                     src="https://i.giphy.com/c76IJLufpNwSULPk77.gif" 
                     alt="Cute bear asking" 
                     class="h-48 rounded-2xl image-shadow mix-blend-multiply">
            </div>

            <!-- Typography Upgrade -->
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-2 leading-tight">
                Will you be my Valentine?
            </h1>
            <h2 class="text-2xl md:text-3xl font-bold text-pink-500 mb-8">
                Maroua üåπ
            </h2>

            <!-- Buttons Container -->
            <div class="flex flex-col items-center gap-4 w-full relative">
                <button id="yesBtn" onclick="handleYesClick()" 
                        class="bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white font-bold py-4 px-10 rounded-full text-xl shadow-lg transform transition hover:scale-105 w-full md:w-auto min-w-[200px] z-10">
                    Yes, I will! üíñ
                </button>

                <button id="noBtn" onclick="handleNoClick()" 
                        class="bg-white hover:bg-gray-50 text-gray-700 font-semibold py-3 px-8 rounded-full text-lg shadow-sm border border-gray-200 w-full md:w-auto min-w-[200px] z-20">
                    No
                </button>
            </div>
        </div>

        <!-- PAGE 2: SUCCESS -->
        <div id="successSection" class="hidden">
            <div class="flex justify-center mb-8">
                <!-- Success Image: New Working Link (Happy Dancing Bears) -->
                <img src="https://i.giphy.com/media/u23zXEvNsIbfO/giphy.gif" 
                     alt="Happy bears" 
                     class="h-56 rounded-2xl image-shadow mix-blend-multiply">
            </div>
            
            <h1 class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-rose-600 mb-4">
                Yay! Maroua said YES!
            </h1>
            <p class="text-lg text-gray-600 font-medium leading-relaxed">
                I promise to make it a special day.<br>Can't wait to see you! ‚ù§Ô∏è
            </p>
            
            <div class="mt-8 animate-bounce">
                <span class="text-4xl">üíå</span>
            </div>
        </div>

    </div>

    <script>
        const questionSection = document.getElementById('questionSection');
        const successSection = document.getElementById('successSection');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const mainImage = document.getElementById('mainImage');

        const noTexts = [
            "No", "Are you sure?", "Really sure?", "Think again!", 
            "Last chance!", "Surely not?", "You might regret this!", 
            "Give it another thought!", "Maroua, please!", 
            "Have a heart!", "Don't be so cold!", "Change of heart?"
        ];

        let clickCount = 0;

        function handleNoClick() {
            clickCount++;
            const nextText = noTexts[Math.min(clickCount, noTexts.length - 1)];
            noBtn.innerText = nextText;

            // 1. Make Yes button grow
            const currentFontSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
            const yesBtnRect = yesBtn.getBoundingClientRect();
            
            // Limit growth to prevent it covering everything immediately
            if (yesBtnRect.width < window.innerWidth * 0.8) {
                 yesBtn.style.fontSize = `${currentFontSize * 1.3}px`;
            }
            
            // 2. Make No Button Run Away
            noBtn.style.position = 'fixed';
            
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;
            const padding = 20;
            const maxX = windowWidth - btnWidth - padding;
            const maxY = windowHeight - btnHeight - padding;

            const randomX = Math.max(padding, Math.random() * maxX);
            const randomY = Math.max(padding, Math.random() * maxY);
            
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';

            // 3. Change image to sad one (Raw Giphy Link - Crying Bear)
            if (clickCount === 1) {
                mainImage.src = "https://i.giphy.com/media/7SF5scGB2AFrgsXP63/giphy.gif"; 
            }
        }

        function handleYesClick() {
            questionSection.classList.add('hidden');
            successSection.classList.remove('hidden');
            successSection.classList.add('fade-in'); 
            launchConfetti();
        }

        function launchConfetti() {
            var count = 400;
            var defaults = {
                origin: { y: 0.7 }
            };

            function fire(particleRatio, opts) {
                confetti(Object.assign({}, defaults, opts, {
                    particleCount: Math.floor(count * particleRatio)
                }));
            }

            fire(0.25, { spread: 26, startVelocity: 55 });
            fire(0.2, { spread: 60 });
            fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
            fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
            fire(0.1, { spread: 120, startVelocity: 45 });

            // Second part: Constant rain
            var duration = 5 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults2 = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) { return Math.random() * (max - min) + min; }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 100 * (timeLeft / duration);
                
                confetti(Object.assign({}, defaults2, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults2, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
    </script>
</body>
</html>
